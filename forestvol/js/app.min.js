(()=>{"use strict";$((function(){!function(e){let t=new Image;t.onload=t.onerror=function(){1==(2==t.height)?$("body").addClass("webp"):$("body").addClass("no-webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();const e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};function t(){e.any()||window.innerWidth<992?$("body").removeClass("_pc").addClass("_touch"):$("body").removeClass("_touch").addClass("_pc")}function i(e="next"){let t=$(".quiz__progressbar-current").text(),i=$(".quiz__progressbar-total").text(),s=$(".quiz__progressbar-progress"),a=$(".quiz__controls-prev"),o=$(".quiz__controls-next"),r=$(".quiz__controls-submit");"next"==e&&(t++,$(".quiz__progressbar-current").text(t),$(".quiz__block.active").removeClass("active").next().addClass("active"),a.removeClass("disabled"),t==i&&(r.removeClass("hidden"),o.addClass("hidden"))),"prev"==e&&(t--,$(".quiz__progressbar-current").text(t),$(".quiz__block.active").removeClass("active").prev().addClass("active"),o.removeClass("hidden"),r.addClass("hidden"),1===t&&a.addClass("disabled")),s.css("--progress",t/i*100+"%")}function s(){const e=$(".header").outerHeight();return $("body").css("--header-height",e+"px"),e}t(),$(window).on("resize",(()=>t())),$(document).on("click",(function(e){let t=$(e.target);if(t.hasClass("icon-menu")&&($(".header").toggleClass("open-menu"),$("body").toggleClass("lock-menu")),t.is(".menu")&&($(".header").removeClass("open-menu"),$("body").removeClass("lock-menu")),t.is(".header__callback-btn")&&(t.toggleClass("active"),$(".header__body").toggleClass("open-contacts"),$(".header__callback-body").slideToggle()),t.is(".menu__link")&&$("body").hasClass("_touch")){let i=t.next();i.length>0&&e.preventDefault(),t.hasClass("active")?(t.removeClass("active"),i.removeClass("active")):($(".menu__link").removeClass("active"),$(".submenu").removeClass("active"),t.addClass("active"),i.addClass("active"))}if(t.is(".examples__btn")&&(t.addClass("active").siblings().removeClass("active"),$(".examples__image").eq(t.index()).addClass("active fade").siblings().removeClass("active fade")),t.is(".visual__info-btn")){let e=t.parent(".visual__info-action"),i=t.next(".visual__info-list");t.hasClass("active")?(e.removeClass("active"),t.removeClass("active"),i.slideUp()):($(".visual__info-action").removeClass("active"),$(".visual__info-btn").removeClass("active"),$(".visual__info-list").slideUp(),e.addClass("active"),t.addClass("active"),i.slideDown())}if(t.is("[data-tab]")){let e=t.data("tab"),i=$(`[name="config"][value="${e}"]`);i.trigger("change"),i.trigger("click")}if(t.is("[data-option]")){let e=t.data("option"),i=$(`[value="${e}"]`);i.trigger("change"),i.trigger("click"),$.fancybox.getInstance().close()}t.is(".quiz__controls-next")&&i(),t.is(".quiz__controls-prev")&&i("prev"),t.is(".quiz__controls-submit")&&($(".quiz__main").addClass("hidden"),$(".quiz__form").removeClass("hidden"))})),$('[name="config"]').length>0&&$('[name="config"]').on("change",(e=>{let t=$(e.target).val();$(`.order-more__content#${t}`).addClass("active").siblings().removeClass("active")})),$(".materials__item").length>0&&($(".materials__item").on("mouseenter",(function(e){$(this).addClass("active"),$(".materials__point").eq($(this).index()).addClass("active")})),$(".materials__item").on("mouseleave",(function(e){$(".materials__item").removeClass("active"),$(".materials__point").removeClass("active")})),$(".materials__point").on("mouseenter",(function(e){$(this).addClass("active"),$(".materials__item").eq($(this).index()).addClass("active")})),$(".materials__point").on("mouseleave",(function(e){$(".materials__item").removeClass("active"),$(".materials__point").removeClass("active")}))),$("[data-fancybox]").fancybox({touch:!1}),$(".completed-projects__slider").length>0&&$(".completed-projects__slider").slick({infinite:!1,variableWidth:!0,arrows:!1,responsive:[{breakpoint:576,settings:{variableWidth:!1,slidesToShow:1}}]}),$(".projects__slider").length>0&&$(".projects__slider").slick({infinite:!1,variableWidth:!0,arrows:!1,responsive:[{breakpoint:576,settings:{variableWidth:!1,slidesToShow:1}}]}),$(".projects__item-slider").length>0&&$(".projects__item-slider").each((function(){$(this).on("init",(function(e){let t=$(e.target),i=t.find(".projects__item-slide");i.length>0&&function(e,t){e.on("mousemove",(function(i){if(i.target.closest(".slick-dots"))return;let s=e.width(),a=i.pageX-e.offset().left,o=s/t,r=Math.floor(a/o);e.slick("slickSetOption","speed",0,!0),e.slick("slickGoTo",r),setTimeout((function(){e.slick("slickSetOption","speed",300,!0)}),0)}))}(t,i.length)})),$(this).slick({infinite:!1,variableWidth:!0,arrows:!1,dots:!0,swipe:!1})})),s(),window.addEventListener("resize",(()=>s())),$(window).on("scroll",(function(){$(this).scrollTop()>s()?$("header").addClass("scroll"):$("header").removeClass("scroll")})),gsap.registerPlugin(ScrollTrigger);let a=gsap.timeline({scrollTrigger:{trigger:".promo",start:"top top",end:"+=65%",scrub:!0,pin:!0,anticipatePin:1,onUpdate:function(e){e.animation.timeScale(e.progress)}}});function o(){window.innerWidth>992?($(".promo").length>0&&a.scrollTrigger.enable(),$(".gallery__slider").length>0&&function(){const e=document.querySelectorAll(".gallery__slide"),t=e.length;gsap.to(e,{xPercent:-100*(t-1),ease:"none",scrollTrigger:{trigger:".gallery__slider",pin:!0,scrub:1,snap:1/(t-1),end:()=>"+="+document.querySelector(".gallery__slider").offsetWidth}})}(),$(".project-card__main").length>0&&gsap.to(".project-card__main img",{yPercent:-15,scrollTrigger:{trigger:".project-card",start:"top top",end:"bottom top",scrub:!0}})):a.scrollTrigger.disable()}a.to(".promo__image",{marginLeft:"-25%",marginRight:"-25%",stagger:0}).to(".promo__main",{y:"100%",opacity:0,stagger:0},0).to(".promo__overlay",{opacity:0,stagger:0},0),o(),window.addEventListener("resize",(function(){o()})),$("#map").length>0&&ymaps.ready((function(){var e=new ymaps.Map("map",{center:[55.651344,37.618423],zoom:10,controls:[]});e.controls.remove("geolocationControl"),e.controls.remove("searchControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.controls.remove("fullscreenControl"),e.controls.remove("zoomControl"),e.controls.remove("rulerControl")}))}))})();